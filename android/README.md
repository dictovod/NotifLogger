# NotifLogger Android App

Android приложение для логирования системных уведомлений с системой активации по IMEI и токену.

## Функции

- **Перехват уведомлений**: Логирование всех системных уведомлений в JSON формате
- **Система активации**: Активация по IMEI устройства и токену
- **Современный UI**: Дизайн в стиле Material Design 3
- **Управление разрешениями**: Удобный интерфейс для настройки разрешений
- **Просмотр логов**: Просмотр и экспорт сохранённых уведомлений

## Системные требования

- Android 7.0 (API 24) и выше
- Разрешение на доступ к уведомлениям
- Разрешение на доступ к файлам (для сохранения логов)

## Сборка

### Требования для сборки

- Android Studio Arctic Fox (2020.3.1) или новее
- JDK 17
- Android SDK 34
- Gradle 8.2

### Инструкции по сборке

1. **Клонируйте репозиторий:**
   ```bash
   git clone <repository-url>
   cd NotifLogger/android
   ```

2. **Откройте в Android Studio:**
   - Откройте Android Studio
   - File → Open → выберите папку `android`
   - Дождитесь синхронизации Gradle

3. **Сборка через Android Studio:**
   - Build → Make Project
   - Run → Run 'app'

4. **Сборка через командную строку:**
   ```bash
   # Debug версия
   ./gradlew assembleDebug
   
   # Release версия
   ./gradlew assembleRelease
   ```

## Структура проекта

```
android/
├── app/
│   ├── src/main/
│   │   ├── java/com/notiflogger/app/
│   │   │   ├── MainActivity.java           # Главная активность
│   │   │   ├── SettingsActivity.java       # Настройки активации
│   │   │   ├── PermissionsActivity.java    # Управление разрешениями
│   │   │   ├── LogsActivity.java           # Просмотр логов
│   │   │   ├── ActivationManager.java      # Логика активации
│   │   │   ├── NotificationLoggerService.java # Сервис логирования
│   │   │   └── Utils.java                  # Утилиты
│   │   ├── res/
│   │   │   ├── layout/                     # XML макеты
│   │   │   ├── values/                     # Ресурсы (строки, цвета, стили)
│   │   │   ├── drawable/                   # Иконки и графика
│   │   │   └── menu/                       # Меню
│   │   └── AndroidManifest.xml             # Манифест приложения
│   ├── build.gradle                        # Конфигурация модуля
│   └── proguard-rules.pro                  # Правила ProGuard
├── gradle/wrapper/                         # Gradle Wrapper
├── build.gradle                            # Корневая конфигурация
├── settings.gradle                         # Настройки проекта
└── gradlew                                 # Скрипт сборки
```

## Использование

### 1. Активация приложения

1. Установите приложение на устройство
2. Откройте приложение - увидите черно-белую иконку (неактивированное состояние)
3. Нажмите "Перейти к активации" или иконку настроек
4. Скопируйте IMEI устройства
5. Отправьте IMEI разработчику для получения токена активации
6. Вставьте полученный токен в поле "Токен активации"
7. Нажмите "Активировать приложение"
8. При успешной активации иконка станет цветной

### 2. Настройка разрешений

1. Перейдите в раздел "Разрешения"
2. Предоставьте доступ к уведомлениям (обязательно)
3. Предоставьте доступ к файлам (для сохранения логов)
4. Разрешение на состояние телефона (опционально, для получения реального IMEI)

### 3. Просмотр логов

1. После активации перейдите в раздел "Логи"
2. Просматривайте логи уведомлений в реальном времени
3. Используйте меню для обновления, экспорта или очистки логов

## Генерация токенов

Токены генерируются с помощью Python скрипта на основе:
- IMEI устройства
- Времени начала действия
- Продолжительности активации
- Уникального UUID

Формат токена: Base64-закодированный JSON с данными активации.

## Безопасность

- Данные активации хранятся в зашифрованном SharedPreferences
- Токены привязаны к конкретному IMEI устройства
- Проверка срока действия при каждом запуске
- Исключение данных активации из резервного копирования

## Отладка

### Логи приложения

Используйте `adb logcat` для просмотра логов:

```bash
adb logcat | grep NotifLogger
```

### Файлы логов

Логи уведомлений сохраняются в:
```
/Android/data/com.notiflogger.app/files/notification_logs/
```

## Лицензия

Proprietary - все права защищены.

## Поддержка

Для получения поддержки или сообщения об ошибках обращайтесь к разработчику.